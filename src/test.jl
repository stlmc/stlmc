using ReachabilityAnalysis, ModelingToolkit, LazySets, CDDLib
vars = @variables u, duration, tau_0, tau_2, tau_1, v, g@clk
@taylorize function mode_6!(dx, x, params, t)
dx[2] = one(x[2])
dx[6] = (x[1] - (2 * x[6]))
dx[1] = ((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6])
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_14!(dx, x, params, t)
dx[2] = one(x[2])
dx[6] = (x[1] - (2 * x[6]))
dx[1] = ((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6])
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_7!(dx, x, params, t)
dx[2] = one(x[2])
dx[1] = (((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6]) + 1)
dx[6] = (x[1] - (2 * x[6]))
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_9!(dx, x, params, t)
dx[2] = one(x[2])
dx[6] = (x[1] - (2 * x[6]))
dx[1] = ((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6])
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_11!(dx, x, params, t)
dx[2] = one(x[2])
dx[1] = (((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6]) + 1)
dx[6] = (x[1] - (2 * x[6]))
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_2!(dx, x, params, t)
dx[2] = one(x[2])
dx[1] = (((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6]) + 1)
dx[6] = (x[1] - (2 * x[6]))
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_1!(dx, x, params, t)
dx[2] = one(x[2])
dx[1] = (((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6]) + 1)
dx[6] = (x[1] - (2 * x[6]))
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_12!(dx, x, params, t)
dx[2] = one(x[2])
dx[6] = (x[1] - (2 * x[6]))
dx[1] = ((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6])
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_5!(dx, x, params, t)
dx[2] = one(x[2])
dx[1] = (((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6]) + 1)
dx[6] = (x[1] - (2 * x[6]))
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_8!(dx, x, params, t)
dx[2] = one(x[2])
dx[6] = (x[1] - (2 * x[6]))
dx[1] = ((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6])
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_4!(dx, x, params, t)
dx[2] = one(x[2])
dx[6] = (x[1] - (2 * x[6]))
dx[1] = ((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6])
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_3!(dx, x, params, t)
dx[2] = one(x[2])
dx[6] = (x[1] - (2 * x[6]))
dx[1] = ((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6])
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_13!(dx, x, params, t)
dx[2] = one(x[2])
dx[1] = (((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6]) + 1)
dx[6] = (x[1] - (2 * x[6]))
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
@taylorize function mode_10!(dx, x, params, t)
dx[2] = one(x[2])
dx[1] = (((((((-0.9) * x[1]) * x[1]) - ((x[1] * x[1]) * x[1])) - (0.9 * x[1])) - x[6]) + 1)
dx[6] = (x[1] - (2 * x[6]))
dx[7] = one(x[7])
dx[3] = zero(x[3])
dx[4] = zero(x[4])
dx[5] = zero(x[5])
end
function main_automaton()
automaton = GraphAutomaton(14)
add_transition!(automaton,10,5,1)
add_transition!(automaton,5,6,2)
add_transition!(automaton,12,8,3)
add_transition!(automaton,10,12,4)
add_transition!(automaton,5,13,5)
add_transition!(automaton,11,14,6)
add_transition!(automaton,10,4,7)
add_transition!(automaton,5,5,8)
add_transition!(automaton,11,8,9)
add_transition!(automaton,12,3,10)
add_transition!(automaton,10,1,11)
add_transition!(automaton,8,7,12)
add_transition!(automaton,9,2,13)
add_transition!(automaton,10,10,14)
add_transition!(automaton,13,1,15)
add_transition!(automaton,7,8,16)
add_transition!(automaton,9,7,17)
add_transition!(automaton,4,6,18)
add_transition!(automaton,13,9,19)
add_transition!(automaton,1,13,20)
add_transition!(automaton,4,8,21)
add_transition!(automaton,13,14,22)
add_transition!(automaton,1,2,23)
add_transition!(automaton,6,4,24)
add_transition!(automaton,14,11,25)
add_transition!(automaton,2,9,26)
add_transition!(automaton,1,11,27)
add_transition!(automaton,14,7,28)
add_transition!(automaton,2,8,29)
add_transition!(automaton,3,12,30)
add_transition!(automaton,5,10,31)
add_transition!(automaton,6,7,32)
add_transition!(automaton,3,7,33)
add_transition!(automaton,5,3,34)
inv_mode6 = HPolyhedron([HalfSpace(duration < 20, vars), HalfSpace(u <= (0.3 + 0.01), vars)])
mode6 = @system(x' = mode_6!(x), dim:7, x ∈ inv_mode6)
inv_mode14 = HPolyhedron([HalfSpace(duration < 20, vars), HalfSpace(u <= (0.3 + 0.01), vars)])
mode14 = @system(x' = mode_14!(x), dim:7, x ∈ inv_mode14)
inv_mode7 = HPolyhedron([HalfSpace(duration < 5, vars), HalfSpace(u <= (0.3 + 0.01), vars)])
mode7 = @system(x' = mode_7!(x), dim:7, x ∈ inv_mode7)
inv_mode9 = HPolyhedron([HalfSpace(duration < 20, vars), HalfSpace(u <= (0.3 + 0.01), vars)])
mode9 = @system(x' = mode_9!(x), dim:7, x ∈ inv_mode9)
inv_mode11 = HalfSpace(duration < 5, vars)
mode11 = @system(x' = mode_11!(x), dim:7, x ∈ inv_mode11)
inv_mode2 = HPolyhedron([HalfSpace(duration < 5, vars), HalfSpace(u <= (0.3 + 0.01), vars)])
mode2 = @system(x' = mode_2!(x), dim:7, x ∈ inv_mode2)
inv_mode1 = HalfSpace(duration < 5, vars)
mode1 = @system(x' = mode_1!(x), dim:7, x ∈ inv_mode1)
inv_mode12 = HalfSpace(duration < 20, vars)
mode12 = @system(x' = mode_12!(x), dim:7, x ∈ inv_mode12)
inv_mode5 = HPolyhedron([HalfSpace(duration < 5, vars), HalfSpace(u <= (0.3 + 0.01), vars)])
mode5 = @system(x' = mode_5!(x), dim:7, x ∈ inv_mode5)
inv_mode8 = HalfSpace(duration < 20, vars)
mode8 = @system(x' = mode_8!(x), dim:7, x ∈ inv_mode8)
inv_mode4 = HPolyhedron([HalfSpace(duration < 20, vars), HalfSpace(u <= (0.3 + 0.01), vars)])
mode4 = @system(x' = mode_4!(x), dim:7, x ∈ inv_mode4)
inv_mode3 = HPolyhedron([HalfSpace(duration < 20, vars), HalfSpace(u <= (0.3 + 0.01), vars)])
mode3 = @system(x' = mode_3!(x), dim:7, x ∈ inv_mode3)
inv_mode13 = HPolyhedron([HalfSpace(duration < 5, vars), HalfSpace(u <= (0.3 + 0.01), vars)])
mode13 = @system(x' = mode_13!(x), dim:7, x ∈ inv_mode13)
inv_mode10 = HPolyhedron([HalfSpace(duration < 5, vars), HalfSpace(u <= (0.3 + 0.01), vars)])
mode10 = @system(x' = mode_10!(x), dim:7, x ∈ inv_mode10)
modes = [mode6, mode14, mode7, mode9, mode11, mode2, mode1, mode12, mode5, mode8, mode4, mode3, mode13, mode10]
jp139738698930208 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 20, vars))
jp139738698931264 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(g@clk <= (tau_0 + 1.2), vars))
jp139738698929248 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HPolyhedron([HalfSpace((tau_0 + 1.2) <= g@clk, vars), HalfSpace(g@clk >= 15.0, vars)]))
jp139738698930304 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(g@clk <= (tau_0 + 1.2), vars))
jp139738698931360 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(g@clk <= (tau_0 + 1.2), vars))
jp139738698929344 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 20, vars))
jp139738698930400 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(g@clk <= (tau_0 + 1.2), vars))
jp139738698931456 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(g@clk <= (tau_0 + 1.2), vars))
jp139738698929440 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(g@clk >= 15.0, vars))
jp139738698928432 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 20, vars))
jp139738698930496 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(g@clk <= (tau_0 + 1.2), vars))
jp139738698931552 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 20, vars))
jp139738698929536 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 5, vars))
jp139738698930592 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(g@clk <= (tau_0 + 1.2), vars))
jp139738698931648 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 5, vars))
jp139738698853824 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 5, vars))
jp139738698929632 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace((tau_1 + 3.3) <= g@clk, vars))
jp139738698930688 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 20, vars))
jp139738698931744 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace((tau_0 + 1.2) <= g@clk, vars))
jp139738698929728 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 20, vars))
jp139738698930784 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HPolyhedron([HalfSpace((tau_1 + 3.3) <= g@clk, vars), HalfSpace((tau_0 + 1.2) <= g@clk, vars), HalfSpace(tau_1 <= (tau_0 + 1.2), vars)]))
jp139738698931840 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace((tau_0 + 1.2) <= g@clk, vars))
jp139738698929824 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace((tau_0 + 1.2) <= g@clk, vars))
jp139738698928816 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 5, vars))
jp139738698930880 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 5, vars))
jp139738698931936 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 20, vars))
jp139738698929920 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace((tau_0 + 1.2) <= g@clk, vars))
jp139738698930976 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(g@clk >= 15.0, vars))
jp139738698932032 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace((tau_1 + 3.3) <= g@clk, vars))
jp139738698930016 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 5, vars))
jp139738698931072 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(duration >= 5, vars))
jp139738698929056 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HPolyhedron([HalfSpace((tau_1 + 3.3) <= g@clk, vars), HalfSpace((tau_0 + 1.2) <= g@clk, vars), HalfSpace(tau_1 <= (tau_0 + 1.2), vars)]))
jp139738698930112 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HPolyhedron([HalfSpace((tau_0 + 1.2) <= g@clk, vars), HalfSpace(g@clk >= 15.0, vars)]))
jp139738698931168 = ConstrainedAffineMap([1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0],[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],HalfSpace(g@clk <= (tau_0 + 1.2), vars))
resets = [jp139738698930208, jp139738698931264, jp139738698929248, jp139738698930304, jp139738698931360, jp139738698929344, jp139738698930400, jp139738698931456, jp139738698929440, jp139738698928432, jp139738698930496, jp139738698931552, jp139738698929536, jp139738698930592, jp139738698931648, jp139738698853824, jp139738698929632, jp139738698930688, jp139738698931744, jp139738698929728, jp139738698930784, jp139738698931840, jp139738698929824, jp139738698928816, jp139738698930880, jp139738698931936, jp139738698929920, jp139738698930976, jp139738698932032, jp139738698930016, jp139738698931072, jp139738698929056, jp139738698930112, jp139738698931168]
return HybridSystem(automaton, modes, resets, [AutonomousSwitching()])
end
function model(X0)
H = main_automaton()
return IVP(H, X0)
end
init = [(5, Hyperrectangle(low=[0, 0, 0.0, 0.0, 0.0, 0, 0.0], high=[0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.0])), (3, Hyperrectangle(low=[0, 0, 0.0, 0.0, 0.0, 0, 0.0], high=[0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.0])), (13, Hyperrectangle(low=[0, 0, 0.0, 0.0, 0.0, 0, 0.0], high=[0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.0]))]
prob = model(init)
@time sol = solve(prob, tspan=(0.0, 15.0), alg=TMJets(abstol=1e-15, orderT=10, orderQ=2, maxsteps=50_000), clustering_method=BoxClustering(100))
ce_found = false
for fp in flowpipe(sol)
if ce_found
break
end
if location(fp) == 7
unsafe = HalfSpace(duration < 5, vars)
if !isdisjoint(unsafe, set(fp))
println("counterexample found")
global ce_found = true
end
elseif location(fp) == 8
unsafe = HalfSpace(duration < 20, vars)
if !isdisjoint(unsafe, set(fp))
println("counterexample found")
global ce_found = true
end
else
continue
end
end
if !ce_found
println("no counterexample found")
end