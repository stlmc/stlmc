(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(14),s=a.n(r),o=(a(86),a(87),a(51),a(88),a(16)),l=a.n(o),h=a(6),p=a(19),c=a(7),d=a(9),v=a(68),u=a(61),g=a(13),m=a(67),_=a(8),f=a.n(_),x=(a(90),function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(c.a)(this,t),this.top=e,this.right=a,this.bottom=n,this.left=i}),w=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(c.a)(this,t),this.width=e,this.height=a},b=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(c.a)(this,t),this.range=e,this.interval_range=a},y=a(2),j=a(15),M=a.n(j),C=(a(21),function(){function t(e,a,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(c.a)(this,t),this.axis_delta=50,this.x_clip_margin=50,this.data_viewer_height=60,this._size=e,this._margin_viewer=a,this._index=n,this._tag="#mode"+this._index,this._jd=i}return Object(d.a)(t,[{key:"clear",value:function(){y.l(this._tag).selectAll("#mode_svg").remove()}},{key:"loadGraph",value:function(t,e,a){this.dataXrange=t,this.xrange=a,y.l(this._tag).selectAll("#mode_svg").remove(),this.canvas=y.l(this._tag).append("svg").attr("id","mode_svg").attr("width",this._size.width).attr("height",this._size.height),this.modeCanvas=this.canvas.append("g").attr("id","modeCanvas"+this._index).attr("clip-path","url(#modeCanvasClip"+this._index+")").attr("transform","translate("+this.x_clip_margin+",0)");var n=(this.dataXrange[1]-this.dataXrange[0])/10;this.Xscale=y.h().domain([this.dataXrange[0],this.dataXrange[1]+n]).range([0,this._size.width]);this.Yscale=y.h().domain([-2,5]).range([this.data_viewer_height,-2]),this.canvas.append("clipPath").attr("id","modeCanvasClip"+this._index).append("rect").attr("width",this._size.width).attr("height",this.data_viewer_height);var i=this.Xscale,r=this.Yscale;this.modeCanvasIntervalLines=this.modeCanvas.append("g").attr("id","modeCanvasIntervalLines"),this.modeCanvasIntervalLines.call(y.a(i).tickValues(this.xrange).tickSize(this._size.height).tickPadding(3).tickFormat(function(){return""})).select(".domain").remove(),this.modeCanvasXaxis=this.canvas.append("g").attr("id","modeCanvasXaxis").attr("transform","translate("+this.x_clip_margin+","+(this.data_viewer_height+1)+")").call(y.a(i)),this.modeCanvasYaxis=this.canvas.append("g").attr("id","modeCanvasYaxis").attr("transform","translate("+this.x_clip_margin+",1)"),this.modeCanvasYaxis.call(y.b(r).ticks(4).tickFormat(function(t){return console.log(t),-1.2===t?"-1.2":4===t?"4":void 0})),console.log(e),this.modeGraph=this.modeCanvas.selectAll(".modeLines").append("g").data(e).enter(),this.modeLineGenerator=y.f().x(function(t){return i(t[0])}).y(function(t){return r(t[1])}).curve(y.d);var s=this.modeLineGenerator;this.modeGraph.append("path").attr("d",function(t){return s(t)}).attr("class","modeLines").attr("stroke","red").attr("stroke-width",1.5)}}]),t}()),k=function(){function t(e,a,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(c.a)(this,t),this.axis_delta=50,this.x_clip_margin=50,this._size=e,this._margin_viewer=a,this._index=n,this._tag="#graph"+this._index,this._jd=i,this.data_viewer_height=this._size.height-20}return Object(d.a)(t,[{key:"clear",value:function(){y.l(this._tag).selectAll("#main_svg").remove()}},{key:"loadGraph",value:function(t,e,a,n,i,r){var s=this;this.refData=a,y.l(this._tag).selectAll("#main_svg").remove(),y.l(this._tag).selectAll("#main_svg_info").remove(),this.canvas=y.l(this._tag).append("svg").attr("id","main_svg").attr("width",this._size.width).attr("height",this._size.height);var o,l=y.l("#graph span"),h=Date.now();y.n(function(){o=Date.now(),l.text(Math.round(1e3/(o-h))+" fps"),h=o}),this.graphCanvas=this.canvas.append("g").attr("id","graphCanvas"+this._index).attr("clip-path","url(#graphCanvasClip"+this._index+")").attr("transform","translate("+this.x_clip_margin+",0)"),this.canvas.append("clipPath").attr("id","graphCanvasClip"+this._index).append("rect").attr("width",this._size.width).attr("height",this.data_viewer_height),this.graphCanvasFront=this.graphCanvas.append("g"),this.colorScale=y.i(y.j),this.dataXrange=t,this.dataYrange=e;var p=(this.dataXrange[1]-this.dataXrange[0])/10,c=(this.dataYrange[1]-this.dataYrange[0])/10;this.dataCanvasXscale=y.h().domain([this.dataXrange[0],this.dataXrange[1]+p]).range([0,this._size.width]),this.dataCanvasYscale=y.h().domain([this.dataYrange[0]-c,this.dataYrange[1]+c]).range([this.data_viewer_height,0]),this.dataCanvasXscaleZoom=this.dataCanvasXscale,this.dataCanvasYscaleZoom=this.dataCanvasYscale;this.graphCanvasXaxisGrid=this.graphCanvas.append("g").attr("id","graphCanvasXaxisGrid"+this._index).attr("class","XaxisGrid"),this.graphCanvasXaxisGrid.call(y.a(s.dataCanvasXscale).tickSize(this._size.height).tickPadding(10).tickFormat(function(){return""})).select(".domain").remove(),this.graphCanvasYaxisGrid=this.graphCanvas.append("g").attr("id","graphCanvasYaxisGrid"+this._index).attr("class","YaxisGrid"),this.graphCanvasYaxisGrid.call(y.b(s.dataCanvasYscale).tickSize(-this._size.width).tickPadding(10).tickFormat(function(){return""})).select(".domain").remove(),this.graphCanvasXaxis=this.canvas.append("g").attr("id","graphCanvasXaxis").attr("transform","translate("+this.x_clip_margin+","+(this.data_viewer_height+1)+")").call(y.a(this.dataCanvasXscale)),this.graphCanvasYaxis=this.canvas.append("g").attr("id","graphCanvasYaxis").attr("transform","translate("+this.x_clip_margin+",1)").call(y.b(this.dataCanvasYscale)),this.zoom=y.o().extent([[0,0],[this._size.width,this.data_viewer_height]]).scaleExtent([1,1/0]).translateExtent([[0,-this.dataYrange[1]],[1/0,1/0]]).on("zoom",function(){s.dataCanvasXscaleZoom=y.e.transform.rescaleX(s.dataCanvasXscale),s.dataCanvasYscaleZoom=y.e.transform.rescaleY(s.dataCanvasYscale),s.graphCanvasXaxis.call(y.a(s.dataCanvasXscaleZoom)),s.graphCanvasYaxis.call(y.b(s.dataCanvasYscaleZoom)),y.m("#propCanvasXaxis").call(y.a(s.dataCanvasXscaleZoom)),y.m("#propCanvasIntervalLines").call(y.a(s.dataCanvasXscaleZoom).tickValues(i).tickSize(100).tickPadding(3).tickFormat(function(){return""})).select(".domain").remove(),y.m("#modeCanvasXaxis").call(y.a(s.dataCanvasXscaleZoom)),y.m("#modeCanvasIntervalLines").call(y.a(s.dataCanvasXscaleZoom).tickValues(i).tickSize(100).tickPadding(3).tickFormat(function(){return""})).select(".domain").remove(),s.propCanvasYscale=y.h().domain([0,3]).range([60,0]),s.lineGenerator=y.f().x(function(t){return s.dataCanvasXscaleZoom(t[0])}).y(function(t){return s.dataCanvasYscaleZoom(t[1])}).curve(y.d),s.lineGenerator2=y.f().x(function(t){return s.dataCanvasXscaleZoom(t[0])}).y(function(t){return s.propCanvasYscale(t[1])}).curve(y.d),y.m(".propLines").attr("d",function(t){return s.lineGenerator2(t)}),y.m(".modeLines").attr("d",function(t){return s.lineGenerator2(t)}),s.lineGraph.selectAll(".lines").each(function(t){t.newX=s.lineGenerator(t.data)}),s.lineGraph.selectAll(".lines").attr("d",function(t){return t.newX})}),console.log("rogogoggogogog"),this.tooltip=y.l(this._tag).append("div").attr("id","tooltip").style("position","absolute").style("visibility","hidden").style("background-color","rgba(0, 0, 0, 0.7)").style("border","solid").style("border-width","1px").style("border-radius","5px").style("padding","10px"),this.drawGraph(a,n,r)}},{key:"drawGraph",value:function(t,e,a){var n=this,i=y.i().domain(a).range(y.k),r=[],s=[],o=!0,l=!1,p=void 0;try{for(var c,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var v=c.value,u=Object(h.a)(v,2),g=u[0],m={name:g,data:u[1]};r.push(m),s.push(g)}}catch(j){l=!0,p=j}finally{try{o||null==d.return||d.return()}finally{if(l)throw p}}console.log(s);var _=30*s.length;this.InfoCanvas=y.l(this._tag).append("svg").attr("id","main_svg_info").attr("width",this._size.width).attr("height",_),this.InfoCanvas.selectAll("dots").data(s).enter().append("circle").attr("cx",20).attr("cy",function(t,e){return 15+25*e}).attr("r",7).style("fill",function(t){return i(t)}),this.InfoCanvas.selectAll("labels").data(s).enter().append("text").attr("x",40).attr("y",function(t,e){return 15+25*e}).style("fill",function(t){return i(t)}).text(function(t){return t}).attr("text-anchor","left").style("alignment-baseline","middle");var f=this.dataCanvasXscale,x=this.dataCanvasYscale;this.lineGenerator=y.f().x(function(t){return f(t[0])}).y(function(t){return x(t[1])}).curve(y.d),console.log(t),console.log(r),this.lineGraph=this.graphCanvas.selectAll(".lines").append("g").data(r).enter(),this.lineGraph.append("path").attr("d",function(t){return n.lineGenerator(t.data)}).attr("class","lines").attr("stroke",function(t,e){return i(t.name)}).attr("stroke-width",1.5).style("fill","none"),this.lineGraph.append("text").attr("id","focusText").attr("transform",function(){return"translate(2,"+(n._margin_viewer.top-3)+")"}).style("font-size",function(){return"11px"}).style("visibility","hidden");var w=y.c(function(t){return t}).left,b=this.lineGraph;this.graphCanvasFront.append("rect").attr("id","mainrect").attr("width",this._size.width-this.x_clip_margin).attr("height",this.data_viewer_height).attr("transform","translate(0,1)").style("fill-opacity","0.0").on("mouseover",function(){n.popup,b.selectAll("#focusCircle").style("visibility","visible"),b.selectAll("#focusText").style("visibility","visible")}).on("mouseout",function(){b.selectAll("#focusCircle").style("visibility","hidden"),b.selectAll("#focusText").style("visibility","hidden")}).on("mousemove",function(){var t=y.g(M()("#graphCanvas"+n._index)[0]),a=n.dataCanvasXscaleZoom.invert(t[0]),i=w(e,a);if(i>0&&e.length-1>=i){var r=e[i-1],s=e[i],o=a-r>s-a?s:r;n.dataCanvasXscaleZoom(o);n.lineGraph.selectAll("#focusText").text(function(t,a){e[i-1],e[i];return""})}}).call(this.zoom)}},{key:"graph",get:function(){return this._graph},set:function(t){this._graph=t}}]),t}(),G=function(){function t(e,a,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(c.a)(this,t),this.axis_delta=50,this.x_clip_margin=50,this.data_viewer_height=60,this._size=e,this._margin_viewer=a,this._index=n,this._tag="#proposition"+this._index,this._jd=i}return Object(d.a)(t,[{key:"clear",value:function(){y.l(this._tag).selectAll("#prop_svg").remove()}},{key:"loadGraph",value:function(t,e,a){this.dataXrange=t,this.xrange=a,y.l(this._tag).selectAll("#prop_svg").remove(),this.canvas=y.l(this._tag).append("svg").attr("id","prop_svg").attr("width",this._size.width).attr("height",this._size.height),this.propCanvas=this.canvas.append("g").attr("id","propCanvas"+this._index).attr("clip-path","url(#propCanvasClip"+this._index+")").attr("transform","translate("+this.x_clip_margin+",0)");var n=(this.dataXrange[1]-this.dataXrange[0])/10;this.Xscale=y.h().domain([this.dataXrange[0],this.dataXrange[1]+n]).range([0,this._size.width]),this.Yscale=y.h().domain([0,3]).range([this.data_viewer_height,0]),this.canvas.append("clipPath").attr("id","propCanvasClip"+this._index).append("rect").attr("width",this._size.width).attr("height",this.data_viewer_height);var i=this.Xscale,r=this.Yscale;this.propCanvasIntervalLines=this.propCanvas.append("g").attr("id","propCanvasIntervalLines"),this.propCanvasIntervalLines.call(y.a(i).tickValues(this.xrange).tickSize(this._size.height).tickPadding(3).tickFormat(function(){return""})).select(".domain").remove(),this.propCanvasXaxis=this.canvas.append("g").attr("id","propCanvasXaxis").attr("transform","translate("+this.x_clip_margin+","+(this.data_viewer_height+1)+")").call(y.a(i)),this.propCanvasYaxis=this.canvas.append("g").attr("id","propCanvasYaxis").attr("transform","translate("+this.x_clip_margin+",1)"),this.propCanvasYaxis.call(y.b(r).ticks(4).tickFormat(function(t){return 1===t?"false":2===t?"true":" "})),this.propGraph=this.propCanvas.selectAll(".propLines").append("g").data(e).enter(),this.propLineGenerator=y.f().x(function(t){return i(t[0])}).y(function(t){return r(t[1])}).curve(y.d);var s=this.propLineGenerator;this.propGraph.append("path").attr("d",function(t){return s(t)}).attr("class","propLines").attr("stroke","red").attr("stroke-width",1.5).attr("transform","translate( 0,-20)")}}]),t}(),O=function(){function t(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(c.a)(this,t),this._jsonString=a,this._intervalsMap=new Map,this._intervalVarMap=new Map,this._dataByNameMap=new Map,this._xRangeMap=new Map,this._yRangeMap=new Map,this._graph_size=0,this.maxX=0,this.minX=0,this.totalMaxX=0,this.totalMinX=0,this._isEmpty=!0,this._var_list=[],this._x_data_list=[],this._interval_flat_list=[],this._interval_info=new Map,this._propMap=new Map,this._modeMap=new Map,this.parse=function(){if(""!=e._jsonString){console.log("parsingNewjson!"),e.clearAll(),e._isEmpty=!1,console.log(e._jsonString);var t=Object.values(e._jsonString),a=Object(h.a)(t,8),n=a[0],i=a[1],r=a[2],s=a[3],o=a[4],l=a[5],p=a[6],c=a[7];e._interval_flat_list=Object.values(c).map(function(t){return parseFloat(t)});for(var d=0,v=Object.entries(p);d<v.length;d++){var u=v[d],g=Object(h.a)(u,2),m=(g[0],g[1]),_=Object.values(m),f=Object(h.a)(_,3),x=f[0],w=f[1],b=f[2],y={intIndex:parseInt(x),range:Object.values(w).map(function(t){return parseFloat(t)}),data:Object.values(b).map(function(t){return parseFloat(t)})};e._interval_info.set(parseInt(x),y)}for(var j=0,M=function(){for(var t=k[C],a=((G=Object(h.a)(t,2))[0],G[1]),n=Object.values(a),i=Object(h.a)(n,3),r=i[0],s=i[1],o=i[2],l=Object.values(o),p=[],c=function(t){var a=[],n=e._interval_info.get(t);n&&(a=n.data.map(function(e){return"True"===l[t]?[e,1]:"False"===l[t]?[e,0]:[e,parseFloat(l[t])]})),p.push(a)},d=0;d<e._interval_info.size;d++)c(d);var v={name:r,type:s,actual:l,data:p};e._modeMap.set(j,v),j++},C=0,k=Object.entries(o);C<k.length;C++){var G;M()}console.log(e._propMap);for(var O=0,S=function(){for(var t=E[X],a=((z=Object(h.a)(t,2))[0],z[1]),n=Object.values(a),i=Object(h.a)(n,3),r=i[0],s=i[1],o=i[2],l=Object.values(o),p=[],c=function(t){var a=[],n=e._interval_info.get(t);n&&(a=n.data.map(function(e){return"True"==l[t]?[e,1]:[e,0]})),p.push(a)},d=0;d<e._interval_info.size;d++)c(d);var v={name:r,actual:s,data:p};e._propMap.set(O,v),O++},X=0,E=Object.entries(s);X<E.length;X++){var z;S()}console.log(e._propMap),e._var_list=Object.values(n),e._x_data_list=Object.values(l).map(function(t){return parseFloat(t)}),e._graph_size=i.length;for(var I=0;I<i.length;I++){for(var R=Object.values(i[I]),F=Object(h.a)(R,3),Y=F[0],L=F[1],A=F[2],N=new Map,D=[],T=0,Z=Object.entries(L);T<Z.length;T++){var P=Z[T],B=Object(h.a)(P,2),V=(B[0],B[1]),U=Object.values(V),J=Object(h.a)(U,3),W=J[0],$=J[1],q=J[2],H=parseInt($),K={name:"",points:[]},Q=[];e.IsInList(D,W)||D.push(W);var tt=!0,et=!1,at=void 0;try{for(var nt,it=q[Symbol.iterator]();!(tt=(nt=it.next()).done);tt=!0){var rt=nt.value,st=Object.values(rt),ot=Object(h.a)(st,2),lt=ot[0],ht=ot[1];Q.push([parseFloat(lt),parseFloat(ht)])}}catch(Vt){et=!0,at=Vt}finally{try{tt||null==it.return||it.return()}finally{if(et)throw at}}K.name=W,K.points.push(Q);var pt=N.get(H);if(pt)pt.push(K),N.set(H,pt);else{var ct=[];ct.push(K),N.set(H,ct)}}e._intervalVarMap.set(parseInt(Y),D),e._intervalsMap.set(parseInt(Y),N);var dt=Object.values(A),vt=Object(h.a)(dt,8),ut=vt[0],gt=vt[1],mt=vt[2],_t=vt[3];vt[4],vt[5],vt[6],vt[7];e.maxX=parseFloat(ut),e.minX=parseFloat(gt),e._xRangeMap.set(parseInt(Y),[parseFloat(gt),parseFloat(ut)]),e._yRangeMap.set(parseInt(Y),[parseFloat(_t),parseFloat(mt)]),0==I&&(e.totalMinX=parseFloat(gt),e.totalMaxX=parseFloat(ut))}for(var ft=0;ft<r.length;ft++){for(var xt=Object.values(r[ft]),wt=Object(h.a)(xt,2),bt=wt[0],yt=wt[1],jt=parseInt(bt),Mt=new Map,Ct=0,kt=Object.entries(yt);Ct<kt.length;Ct++){var Gt=kt[Ct],Ot=Object(h.a)(Gt,2),St=(Ot[0],Ot[1]),Xt=Object.values(St),Et=Object(h.a)(Xt,2),zt=Et[0],It=Et[1],Rt=[],Ft=!0,Yt=!1,Lt=void 0;try{for(var At,Nt=It[Symbol.iterator]();!(Ft=(At=Nt.next()).done);Ft=!0){var Dt=At.value,Tt=Object.values(Dt),Zt=Object(h.a)(Tt,2),Pt=Zt[0],Bt=Zt[1];Rt.push([parseFloat(Pt),parseFloat(Bt)])}}catch(Vt){Yt=!0,Lt=Vt}finally{try{Ft||null==Nt.return||Nt.return()}finally{if(Yt)throw Lt}}Mt.set(zt,Rt)}e._dataByNameMap.set(jt,Mt)}console.log(e._intervalsMap),console.log(e._xRangeMap),console.log(e._yRangeMap)}else e._isEmpty=!0}}return Object(d.a)(t,[{key:"xRange",value:function(t){return this._xRangeMap.get(t)}},{key:"yRange",value:function(t){return this._yRangeMap.get(t)}},{key:"GetGraph",value:function(t){return this._intervalsMap.get(t)}},{key:"GetGraph2List",value:function(t){for(var e=[],a=0;a<this._intervalsMap.size;a++){var n=this._intervalsMap.get(t);if(n){var i=n.get(a);if(i){var r={index:a,interval:i};e.push(r)}}}return e}},{key:"GetVar",value:function(t){return this._intervalVarMap.get(t)}},{key:"GetGraphSize",value:function(){return this._graph_size}},{key:"GetIntervalSize",value:function(){return this._intervalsMap.size}},{key:"GetIntervalInfo",value:function(t){return this._interval_info.get(t)}},{key:"GetDataByName",value:function(t){return this._dataByNameMap.get(t)}},{key:"GetModeSize",value:function(){return this._modeMap.size}},{key:"GetMode",value:function(t){return this._modeMap.get(t)}},{key:"GetIntervalInfoFlat",value:function(){return this._interval_flat_list}},{key:"GetProp",value:function(t){return this._propMap.get(t)}},{key:"IsInList",value:function(t,e){var a=!0,n=!1,i=void 0;try{for(var r,s=t[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){if(r.value==e)return!0}}catch(o){n=!0,i=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw i}}return!1}},{key:"clearAll",value:function(){this._intervalsMap.clear(),this._intervalVarMap.clear(),this._dataByNameMap.clear(),this._xRangeMap.clear(),this._yRangeMap.clear(),this._graph_size=0,this.maxX=0,this.minX=0,this.totalMaxX=0,this.totalMinX=0,this._isEmpty=!0,this._var_list=[],this._x_data_list=[],this._interval_flat_list=[],this._interval_info.clear(),this._propMap.clear(),this._modeMap.clear()}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"variables",get:function(){return this._var_list}},{key:"xlist",get:function(){return this._x_data_list}},{key:"varMap",get:function(){return this._intervalVarMap}},{key:"map",get:function(){return this._intervalsMap}},{key:"modeMap",get:function(){return this._modeMap}},{key:"propMap",get:function(){return this._propMap}},{key:"propSize",get:function(){return this._propMap.size}},{key:"MaxX",get:function(){return this.maxX}},{key:"MinX",get:function(){return this.minX}},{key:"TotalMaxX",get:function(){return this.totalMaxX}},{key:"TotalMinX",get:function(){return this.totalMinX}},{key:"string",set:function(t){this.clearAll(),this._jsonString=t,this.parse()}}]),t}(),S=a(66),X=(a(91),a(62)),E=a.n(X),z=a(115),I=a(116),R=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(v.a)(this,Object(u.a)(e).call(this,t))).width=parseFloat(f.a.width.replace("px","")),a.height=parseFloat(f.a.height.replace("px","")),a.width_viewer=parseFloat(f.a.width_viewer.replace("px","")),a.height_viewer=parseFloat(f.a.height_viewer.replace("px","")),a.width_controller=parseFloat(f.a.width_controller.replace("px","")),a.height_controller=parseFloat(f.a.height_controller.replace("px","")),a.margin_viewer_top=parseFloat(f.a.margin_viewer_top.replace("px","")),a.margin_viewer_right=parseFloat(f.a.margin_viewer_right.replace("px","")),a.margin_viewer_bottom=parseFloat(f.a.margin_viewer_bottom.replace("px","")),a.margin_viewer_left=parseFloat(f.a.margin_viewer_left.replace("px","")),a.margin_controller_top=parseFloat(f.a.margin_controller_top.replace("px","")),a.margin_controller_right=parseFloat(f.a.margin_controller_right.replace("px","")),a.margin_controller_bottom=parseFloat(f.a.margin_controller_bottom.replace("px","")),a.margin_controller_left=parseFloat(f.a.margin_controller_left.replace("px","")),a.renderers=[],a.propRenderers=[],a.modeRenderers=[],a.instance=void 0,a.njson=new O,a.base_size=new w(a.width,80),a.graph_size=new w(a.width,a.height),a.base_margin=new x(a.margin_viewer_top,a.margin_viewer_right,a.margin_viewer_bottom,a.margin_viewer_left),a.state={isCounterExm:!1,graphNum:0,model:[],propState:{isEnabled:new Map,numOfGraph:0,propRenderers:[],propMap:new Map,propData:new b},modeState:{isEnabled:new Map,numOfGraph:0,modeMap:new Map},toggle:new Map,isToggleChanged:!1,xlist:[],serverError:{message:"",error:!1}},a.onModelListSelect=a.onModelListSelect.bind(Object(g.a)(a)),a.onResetButtonClick=a.onResetButtonClick.bind(Object(g.a)(a)),a.instance=E.a.create({baseURL:"http://localhost:3001"}),a.Item=a.Item.bind(Object(g.a)(a)),a.ItemList=a.ItemList.bind(Object(g.a)(a)),a.Main=a.Main.bind(Object(g.a)(a)),a}return Object(m.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=Object(p.a)(l.a.mark(function t(){var e=this;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("ComponentDidMount"),t.next=3,this.instance.get("/file_list").catch(function(t){console.log(t),e.setState({serverError:{error:!0,message:t}})}).then(function(t){t&&e.setState({model:t.data.file_list.map(function(t){var e=Object.values(t),a=Object(h.a)(e,2),n=a[0],i=a[1];return{title:n,uid:parseInt(i)}})})});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(t,e,a){if(console.log("componentDidUpdate"),this.state.serverError.error&&this.setState({serverError:{error:!1,message:""}}),this.njson.isEmpty()){for(var n=0;n<this.renderers.length;n++)this.renderers[n].clear();this.renderers=[];for(var i=0;i<this.propRenderers.length;i++)this.propRenderers[i].clear();this.propRenderers=[];for(var r=0;r<this.modeRenderers.length;r++)this.modeRenderers[r].clear();this.modeRenderers=[]}else{for(var s=0;s<this.renderers.length;s++){var o=this.njson.GetDataByName(s);console.log(o),o&&this.renderers[s].loadGraph(this.njson.xRange(s),this.njson.yRange(s),o,this.state.xlist,this.njson.GetIntervalInfoFlat(),this.njson.variables)}for(var l=0;l<this.njson.propSize;l++){var h=this.njson.GetProp(l);h&&this.propRenderers[l].loadGraph([this.njson.TotalMinX,this.njson.TotalMaxX],h.data,this.njson.GetIntervalInfoFlat())}for(var p=0;p<this.njson.GetModeSize();p++){var c=this.njson.GetMode(p);c&&this.modeRenderers[p].loadGraph([this.njson.TotalMinX,this.njson.TotalMaxX],c.data,this.njson.GetIntervalInfoFlat())}}}},{key:"onModelListSelect",value:function(){var t=Object(p.a)(l.a.mark(function t(e,a){var n,i,r,s,o,h,p,c,d,v,u,g,m,_,f,x;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.value,void 0==(i=this.state.model.find(function(t,e){return t.title==n}))){t.next=8;break}return t.next=5,this.instance.get("/file/"+i.uid);case 5:if(r=t.sent,console.log(r.data),""!=r.data){for(this.njson.string=r.data,console.log(this.njson.variables),s=this.njson.GetGraphSize(),console.log("GraphSize is "+s),this.renderers=[],o=new Map,(h=M()(window).width())&&(h=.8*h-this.base_margin.left-this.base_margin.right),p=new w(h,80),c=0;c<s;c++)(d=new k(new w(h,this.height),this.base_margin,c)).graph=this.njson.GetGraph(c),console.log(d.graph),this.renderers.push(d),o.set(c,!0);for(v=new Map,this.propRenderers=[],u=0;u<this.njson.propSize;u++)g=new G(p,this.base_margin,u),this.propRenderers.push(g),v.set(u,!0);for(m=new Map,this.modeRenderers=[],_=0;_<this.njson.GetModeSize();_++)f=new C(p,this.base_margin,_),this.modeRenderers.push(f),m.set(_,!0);for(x=0;x<this.njson.GetGraphSize()+this.njson.propSize;x++)this.state.toggle.set(x,!0);this.setState({isCounterExm:!0,toggle:o,graphNum:this.njson.GetGraphSize(),xlist:this.njson.xlist,propState:{numOfGraph:this.njson.propSize,propData:{range:[this.njson.TotalMinX,this.njson.TotalMaxX],interval_range:this.njson.GetIntervalInfoFlat()},propRenderers:this.propRenderers,propMap:this.njson.propMap,isEnabled:v},modeState:{numOfGraph:this.njson.GetModeSize(),modeMap:this.njson.modeMap,isEnabled:m}})}else this.njson.clearAll(),console.log(this.njson.isEmpty()),this.setState({isCounterExm:!1});case 8:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},{key:"onResetButtonClick",value:function(){var t=Object(p.a)(l.a.mark(function t(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("reset called"),t.next=3,this.instance.get("/file_list");case 3:e=t.sent,this.njson.clearAll(),this.setState({isCounterExm:!1,model:e.data.file_list.map(function(t){var e=Object.values(t),a=Object(h.a)(e,2),n=a[0],i=a[1];return{title:n,uid:parseInt(i)}})});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"Item",value:function(t,e){var a=this,n=this.njson.GetVar(t),r=this.state.toggle.get(t),s="unknown";if(n){s="Var: ";for(var o=0;o<n.length;o++)s+=0==o?n[o]:", "+n[o]}return i.a.createElement("div",{style:{marginLeft:e,marginRight:e}},i.a.createElement(z.a.Row,null,i.a.createElement(z.a.Check,{label:s,checked:r,onClick:function(){var e=a.state.toggle;r?(e.set(t,!1),a.setState({toggle:e})):(e.set(t,!0),a.setState({toggle:e}))}}),i.a.createElement(z.a.Row,null,i.a.createElement("div",{id:"graph"+t,style:{display:this.state.toggle.get(t)?"block":"none"}},i.a.createElement("span",null)))))}},{key:"PropUI",value:function(t,e){var a=this,n=this.state.propState.propMap.get(t),r=this.state.propState.isEnabled.get(t),s="unknown";return n&&(s=n.name+" : "+n.actual),i.a.createElement("div",{style:{marginLeft:e,marginRight:e}},i.a.createElement(z.a.Row,null,i.a.createElement(z.a.Check,{label:s,checked:r,onClick:function(){var e=a.state.propState.isEnabled;r?(e.set(t,!1),a.setState({propState:{numOfGraph:a.state.propState.numOfGraph,propMap:a.state.propState.propMap,isEnabled:a.state.propState.isEnabled,propData:a.state.propState.propData,propRenderers:a.state.propState.propRenderers}})):(e.set(t,!0),a.setState({propState:{numOfGraph:a.state.propState.numOfGraph,propMap:a.state.propState.propMap,isEnabled:a.state.propState.isEnabled,propData:a.state.propState.propData,propRenderers:a.state.propState.propRenderers}}))}}),i.a.createElement(z.a.Row,null,i.a.createElement("div",{className:"svg_div",id:"proposition"+t,style:{display:this.state.propState.isEnabled.get(t)?"block":"none"}},i.a.createElement("span",null)))))}},{key:"ModeUI",value:function(t,e){var a=this,n="unknown",r=this.state.modeState.modeMap.get(t);r&&(n=r.name+" = "+r.actual);var s=this.state.modeState.isEnabled.get(t);return i.a.createElement("div",{style:{marginLeft:e,marginRight:e}},i.a.createElement(z.a.Row,null,i.a.createElement(z.a.Check,{label:n,checked:s,onClick:function(){var e=a.state.modeState.isEnabled;s?(e.set(t,!1),a.setState({modeState:{isEnabled:e,modeMap:a.state.modeState.modeMap,numOfGraph:a.state.modeState.numOfGraph}})):(e.set(t,!0),a.setState({modeState:{isEnabled:e,modeMap:a.state.modeState.modeMap,numOfGraph:a.state.modeState.numOfGraph}}))}}),i.a.createElement(z.a.Row,null,i.a.createElement("div",{className:"svg_div",id:"mode"+t,style:{display:this.state.modeState.isEnabled.get(t)?"block":"none"}},i.a.createElement("span",null)))))}},{key:"ItemList",value:function(){var t=[],e=[],a=[],n=M()(window).width();n&&(n=.1*n+this.base_margin.left);for(var r=0;r<this.state.graphNum;r++)t.push(this.Item(r,n));for(var s=0;s<this.njson.propSize;s++)e.push(this.PropUI(s,n));for(var o=0;o<this.njson.GetModeSize();o++)a.push(this.ModeUI(o,n));return i.a.createElement(z.a,null,a,t,e)}},{key:"Main",value:function(){return i.a.createElement("div",null,this.njson.isEmpty()?i.a.createElement("div",{className:"row line_plot_div"},i.a.createElement("div",{className:"col-md-1"}),i.a.createElement("div",{className:"col-md-10 alert alert-warning",role:"alert"},"No counter example, nothing to show!"),i.a.createElement("div",{className:"col-md-1"})):i.a.createElement("div",null,i.a.createElement("div",{className:"row basic_box"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(this.ItemList,null)))))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-1"}),i.a.createElement("div",{className:"col-md-10"},i.a.createElement("label",null,"Models"),i.a.createElement(S.a,{isSearchable:!0,options:this.state.model.map(function(t){return{value:t.title,label:t.title}}),onChange:this.onModelListSelect})),i.a.createElement("div",{className:"col-md-1"},i.a.createElement(I.a,{variant:"outline-dark",onClick:this.onResetButtonClick,id:"non-outline"},"reset"))),i.a.createElement(this.Main,null))}}]),e}(i.a.Component),F=function(){return i.a.createElement("div",{className:"main-container"},i.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},21:function(t,e,a){},51:function(t,e,a){},8:function(t,e,a){t.exports={width:"820px",height:"600px",width_viewer:"420px",height_viewer:"300px",width_controller:"420px",height_controller:"100px",margin_viewer_top:"20px",margin_viewer_right:"30px",margin_viewer_bottom:"50px",margin_viewer_left:"30px",margin_controller_top:"20px",margin_controller_right:"20px",margin_controller_bottom:"10px",margin_controller_left:"20px"}},81:function(t,e,a){t.exports=a(113)},86:function(t,e,a){},87:function(t,e,a){},90:function(t,e,a){t.exports={width:"820px",height:"600px",width_viewer:"420px",height_viewer:"300px",width_controller:"420px",height_controller:"100px",margin_viewer_top:"20px",margin_viewer_right:"30px",margin_viewer_bottom:"50px",margin_viewer_left:"30px",margin_controller_top:"20px",margin_controller_right:"20px",margin_controller_bottom:"10px",margin_controller_left:"20px"}}},[[81,1,2]]]);
//# sourceMappingURL=main.d7a38878.chunk.js.map